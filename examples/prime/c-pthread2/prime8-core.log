$ gcc -g -Wall -lpthread -o prime8-gdb prime8.c
$ ulimit -c unlimited
$ ./prime8-gdb 1090
Segmentation fault (core dumped)
$ ls -l core
-rw------- 1 osamu osamu 40873984 Aug 17 23:42 core
$ gdb -q prime8-gdb core
[New LWP 29809]

warning: Could not load shared library symbols for linux-vdso.so.1.
Do you need "set solib-search-path" or "set sysroot"?
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
Core was generated by `./prime8-gdb 1090'.
Program terminated with signal 11, Segmentation fault.
#0  0x0000000000400b09 in main (argc=2, argv=0x7fff204861b8) at prime8.c:108
108            tail->next = thd[i].head;
(gdb) print i
$1 = 63
(gdb) print tail
$2 = (primelist *) 0x0
(gdb) print thd[i].head
$3 = (primelist *) 0x0
(gdb) print thd[i-1].head
$4 = (primelist *) 0x0
(gdb) print thd[i-2].head
$5 = (primelist *) 0x2aaab8001d40
(gdb) list
103        for (i=0; i < TMAX; i++) {
104            /* TMAX thread of checkprime loop */
105            if (pthread_join(thd[i].th, (void *) NULL) ) {
106                printf ("E: error joining thread at %li\n", i);
107            }
108            tail->next = thd[i].head;
109            tail = thd[i].tail;
110        }
111
112        p=head;
(gdb) quit
