---
title: GnuCashの使い方(1)
date: 2023-05-15
categories:
  - gnucash
  - japanese
tags:
  - gnucash
slug: account-1
---

## GnuCashは複式簿記

GnuCashは企業の会計で用いられる複式簿記を採用した本格的な会計管理ソフトです。以下は、Version: 4.13ベースのメモです。

使い方さえ慣れれば、家計簿にも使えます。家計でも支払い方法が「現金」・「銀行振込」・「クレジットカード」と複雑になり見通しが悪くなりがちです。支払い方法に関わらず支出タイプごとに集計できるので重宝です。

ただ、GnuCashを使おうとすると、チュートリアルは日本語訳されているのですが、GnuCash Manualは英語しかないという問題もあります。

また、GnuCashのメニューは各言語の文字コード順にソートされたりするので、英語マニュアルとメニューの場所が微妙に違う問題があります。

さらに、会計とか簿記の世界は素人には辛い専門用語が多いという課題があります。会計用語は、「帳票」の英語が「Reports（レポート＝報告書）」だったりと、英語のほうが分かりやすいこともありますが、対応関係で混乱してしまいます。

そこで、[英語と日本語で起動]({{< ref "../en/note-00042.md" >}}#custom-l10ned-execution-without-logout-for-cli)させ比較して状況を整理し、また参考サイトのリンク集を作成しました。素人なので、間違った部分あるかもしれません。

普通に [GUI から日本語で直接起動は別のテクニック]({{< ref "../en/note-00042.md" >}}/#custom-l10ned-execution-without-logout-for-gui-via-desktop)を参考にしましょう。

## 会計用語の日英比較整理

まず、メニューにある気になる項目の日英比較を以下に作成しました。

|English|Japanse|
|-------|---------|
|Account|勘定科目|
|Account Summary|勘定科目集計|
|Auto-clear|自動精算|
|Balance|賃借残高|
|Balance sheet|賃借対照表|
|Close book|決算|
|Formal|正式|
|General Journal|一般仕訳帳|
|Reconcile|照合|
|Reconciliation Report|照合帳票
|Register|記録簿|
|Reports|帳票|
|Scheduled|予定|
|Total|合計|
|Transaction Report|取引出納帳|
|Transfer|資金移動|
|Trial Balance|試算表|

### 会計用語の参考サイト

* [頻出勘定科目132選](https://biz.moneyforward.com/accounting/basic/56495/)
* [貸借対照表 (Balance Sheet）](http://www.urasoebusiness.net/BSAccountList.html)
* [会計英語の勘定科目123選！決算書ベースで頻出単語を覚えよう](https://keiriplus.jp/tips/kaikei-english/)

## 勘定科目ラベル

会計で用いる勘定科目ラベルの正式ラベルのDebit/Creditと異なるデフォルトのGnuCash独自の複式簿記入力欄のラベルを、各勘定項目(Account)タイプ毎に日英表記で整理しました。

| 位置↓       | 正式名↓ \\ タイプ→ |資産↓   |純資産↓ |負債↓        |収益↓  |費用↓    |
|:-----------:|:------------------:|:------:|:------:|:-----------:|:-----:|:-------:|
|Position↓    | Formal↓ \\ Type→   |Asset↓  |Equity↓ |Liabilities↓ |Income↓|Expenses↓|
|左列→        |借方→               |増加    |減少    |支払         |請求   |費用     |
|Left Column→ |Debit→              |Increase|Decrease|Payment      |Charge |Expense  |
|右列→        |貸方→               |減少    |増加    |請求         |収益   |値引     |
|Right Column→|Credit→             |Decrease|Increase|Charge       |Income |Rebate   |

正式の複式簿記では、左の列が借方・かしかた(Debit)、右の列が貸方・かりかた(Credit)と一貫してラベルされています。

デフォルトのGnuCashでは、各列のラベルを上記の表のように勘定項目(Account)タイプごとに素人感覚に合う言葉を選び複式簿記の標準表現を置き換えて表示しています。

ただ、世間一般の会計処理に関する文書と表記が違うし、各勘定科目ごとに名前がころころ変わったり、右左が逆になったり余計ややこしい感もあります。

私は、勘定科目ラベル表記法は複式簿記の標準表現の「借方(Debit、左)」と「貸方(Credit、右)」で統一されるように、`編集` -> `設定` -> `勘定項目` -> `ラベル` (`Edit` -> `Preferences` -> `Accounts` -> `Labels`)の「正式な勘定科目ラベルを使う」をチェックして有効化しています。

「借方(Debit)」と「貸方(Credit)」を、素人目線で翻訳します。

* 借方(Debit)＝お金が、勘定項目(Account)に、入る（＝かりる）　＝　プラス (+)
* 貸方(Credit)＝お金が、勘定項目(Account)から、出る（＝かす）　＝　マイナス (-)

勘定項目自体は、先人が青色申告に合わせたテンプレートや、エンジニア向けテンプレートがありました(別記の[「Debianで青色申告2023 (e-Tax)中の参考にした先人のウエッブページ]({{< ref "note-00062.md">}}#参考にした先人のウエッブページ)のリンク参照。

[私の場合は外貨が絡んだし、ほとんど買ったものもなかったので、新たな我流のテンプレートを作りました。これらすべてを、拾いやすいGITHUBに置いときます。](https://github.com/osamuaoki/osamuaoki-hugo-proj/tree/master/016_gnucash)

<!--
Revenue == TOP LINE == GROSS SALES
Gross income (before any expenses are deducted) 収入
Net income (after all expenses are deducted)　所得


== Types of Revenue
Let’s take a closer look at what revenue can mean by looking at examples of the different types that frequently appear in finance and accounting.

===Types of revenue include:

* The sale of goods, products, or merchandise
* The sale of services, such as consulting
* Rental income from a commercial property (notice the use of “income”)
* The sale of tickets to a concert
* Interest income from lending

== Types of Income
As we explained above, the term “**income**” can sometimes be confusing, as accountants often use it to refer to a **revenue**.

The term net income clearly means after all expenses have been deducted.

=== Types of income include:

* Gross income (before any expenses are deducted)
* Net income (after all expenses are deducted)

-->

## 表示(View)

ずっとコンパクトでカーソールの動きが少なく入力しやすい「基本元帳」で、「おこづかい帳」風に使っていた「表示」を見直しました。

「表示」のプルダウン選択肢の専門用語を、素人目線で翻訳します。

* 基本元帳：「おこづかい帳」風の１件１行表示（コンパクトな表示）
* 自動スプリット元帳：「基本元帳」の１件１行表示、ただしカーソール行は「取引仕訳帳」の１件３行表示
* 取引仕訳帳：「簿記」風の１件３行表示（説明、借方、貸方）（一般仕訳帳と同じ簿記としての整合性ある様式）
* ２行表示：上記の「説明(Description)」行に続き、「備考(Memo)」行を追加

流石に「簿記」風の取引仕訳帳の表示は、「簿記」風の勘定項目(Account)・借方(Debit)・貸方(Credit)という基本コンセプトと合致しわかりやすいです。

借方(Debit)・貸方(Credit)のどっちにどうつけるべきか混乱した際には「自動スプリット元帳」や「取引仕訳帳」にするのもありです。

今まで、全て「説明(Description)」に書き込んでいましたが、「説明(Description)」に支払先企業名（大丸等）、「備考(Memo)」に購入商品名（紳士服等）とするほうが良い気がしてきました。

## 貸借残高の正負符号

さて先程の、`編集` -> `設定` -> `勘定項目` -> `ラベル` (`Edit` -> `Preferences` -> `Accounts` -> `Labels`)の「正式な勘定科目ラベルを使う」の上にある、「貸借勘定の正負を反転する勘定科目(reverse balance accounts)」という選択肢の意味や意図が不明瞭で気になりました。

結論としては、デフォルトの「貸方勘定項目(Credit accounts)」を選ぶのが良いようです。こうすることで、負（マイナス）の値（資産が出ていく）となる[「貸方勘定項目」の、負債(Liabilities) と 純資産(Equity)」の集計結果が正の値で表示されるだけ」](https://lists.gnucash.org/pipermail/gnucash-user/2018-February/075156.html)とのことでした。あくまで集計結果で、各取引の帳簿付の際の入力の数字の符号とか、借方・貸方の記載の仕方などは変わりません。

>    債務(Liability)に対する貸方(Credit)記載は、債務を増加させます。 「増加」は、必ずしも「ゼロからの正の方向が大きい」という意味ではありません。 債務の場合、それは「ゼロからの負の方向に大きい」ことを意味します。 同じことは、純資産(Equity)と収入（収益）(Income(Revenue))にも当てはまります。これらはすべて「貸方」のバランスの取れた勘定科目(Account)です。つまり、通常の残高が純貸方である勘定科目です。
>
>    この議論は、そもそもなぜこのような選択肢が提供されるかという理由の良い例です。 多くの人は通常、より大きなマイナス数になることで債務を増やすことが理解できますが、純資産と収入では理解に苦しみます。 一般的に、あなたはより多くのお金を保持することを「正（ポジティブ）負号＝プラス符号」として、損失することを「負（ネガティブ）符号＝マイナス符号」として受け取るでしょう。 しかし、この場合の「符号」は、アカウントが存在する会計方程式の側との関係であり、心理的な意味（ポジティブ＝陽・ネガティブ＝陰）ではないというのが全体像です。

会計方程式を考えると、貸借対照表（B/S）では以下です：

```
  資産(Assets) = 負債(Liabilities) + 純資産(Equity)
```

これを左辺に集めすべて和で整理すると：

```
  資産(Assets) + ( - 負債(Liabilities)) + ( - 純資産(Equity))                  = 0
```

これが、貸借残高の正負符号の選択肢で貸方勘定項目(Credit accounts)」を選ぶ理由かな。

ちなみに、純資産を展開すると以下です：

```
  資産(Assets) = 負債(Liabilities) + (収益(Revenue) - 費用(Expenses))
```

これを左辺に集めすべて和で整理すると：

```
  資産(Assets) + ( - 負債(Liabilities)) + ( - 収益(Revenue))  + 費用(Expenses) = 0
```

これは、選ばなかったけど「収益・費用」という選択肢の存在背景かな？

## 会計データーの入力

まず「勘定科目」(Accounts)を作成します。

取引のあった「勘定科目」(Accounts)を開くと、データーが入力できます。その際、相手先の勘定科目にもデーターが入力されます。これが入力の基本です。
慣れたら、スプレッドシートで同様のことをするより遥かに効率的です。

銀行の記録やクレジットカードの記録は、CVS形式でダウンロードして読み込んでいます。日本語の場合、UTF-8でなくShiftJisのことも多いので[日付フォーマット対応やエンコーディング変換]({{< ref "note-00058.md" >}})は要注意です。

ちなみに、`ツール`(`Tools`)->`一般仕訳帳`(`General Journal`)で表示される一般仕訳帳があります。これからも編集可能ですが、何でも出来すぎて危険なので日常的な入力には使わないようにしています。

###  販売時に請求書(INVOICE)を発行し、会計データーを入力

WARNING: **以下は所詮素人の自分用のメモで、間違っていたり、誤解を招く内容が含まれる懸念があります**。

販売時に掛売上を計上する。

| 借方科目   | 貸方科目 |
|------------|----------|
| 売掛金     | 売上高   |

### 入金予定日に入金を照合し、売掛金の消込みを行い、会計データーを入力

たとえば

| 借方科目   | 貸方科目   |
|------------|------------|
| 入金口座   | 売掛金     |
| 支払手数料 |            |

### 取引負担出費を立替金で支払い、会計データーを入力

[フリーランスの顧客負担の交通費などの立替金](https://freelance.kantan-aoiro.net/faq/faq04_06.html)は、資産の科目で、以下の記帳です。

| 借方科目   | 貸方科目   |
|------------|------------|
| 立替金     | 現金       |


### 取引先負担出費の立替金の入金を照合し、会計データーを入力

たとえば

| 借方科目   | 貸方科目   |
|------------|------------|
| 入金口座   | 立替金     |
| 支払手数料 |            |

### プライベート資金を事業用に充当し、会計データーを入力

プライベート資金を事業用に充当するときは、個人事業主の場合の特有の「事業主借」とか「事業主貸」といった[無利子の貸借処理をすれば良いようです](https://www.freee.co.jp/kb/kb-blue-return/admin/)。

| 借方科目   | 貸方科目   |
|------------|------------|
| 現金       | 事業主借   |

とか、

| 借方科目   | 貸方科目   |
|------------|------------|
| 事業主貸   | 現金       |

こうしておけば、個人事業主は事業用の銀行口座とプライベート用の銀行口座を分ける必要が、法律上は無いとのこと。（便利かどうかは別ですが。）

ちなみに、法人の「資本金」にあたる純資産を、個人事業主の場合「元入金」と呼ぶみたい。

### 経費の計上

[経費は課税対象の所得(＝ 収入 － 必要経費 － 各種控除)に効くので重要](https://www.freee.co.jp/kb/kb-kaigyou/expenses-freelance/#content3-2)とのこと。

PC も10万円以下なら経費計上でき、それ以上の価格のPCは減価償却費で計上できるとか。とにかく[色々特例がありややこしそう](https://freelance.bizlink.io/tips/freelance-computer-expense)。

ただ非サーバーのPCは基本4年償却なので、、、、私のようにに古いPCを使い続けていると修理費・修理部品代以外は計上できないので、そこは悩むまでもない。

### 照合

「照・R」欄は、一文字表示なので最初意味がわかりにくいですが、意味は照合(Reconsile)欄でした。

データー行の照合(Reconsile)欄をクリックすると表示が切り替わります。

* 「未」照合＝「N」ew
* 「清」算済＝「C」lear

## 帳票(Report) == 会計データー集計結果の出力

「帳票」とはもとの英語で「レポート」ということに気づけばわかりやすいです。

会計データーの集計結果の出力ができます。

### 貸借対照表(Balance sheet)

よくB/Sと略される貸借対照表(Balance sheet)は、GnuCash(日本語)では、`帳票`->`資産・負債`と進んだ先に`貸借対照表`があり、GnuCash(英語)では、`Reports`->`Asset & Liabilities`と進んだ先に`Balance sheet`があり、これを選択すると表示されます。会計用語はわかりにくいので、日英表記を交えておさらいします。

貸借対照表(Balance sheet)、`資産＝負債＋純資産`なので、左右同額でバランスします。

* 左側(GnuCashでは出力前半の上側)
  * 会社が事業のために保有する「資産(Asset)」で、その合計は「総資産」
  * 「資産(Asset)」は「流動資産(Current Assets)」、「固定資産(Fixed Assets)」、「繰延資産(Differed Assets)」に区分される。
* 右側(GnuCashでは出力後半の下側)
  * 会社が資産を調達した内容で、その合計は「総資本」
  * 返済義務のある「負債(Liabilities)」と、返済義務のない「純資産(Equity)」に区分される。
  * 「負債(Liabilities)」は、調達資金で、「流動負債(Current liabilities)」や「固定負債(Fixed liabilities)」に区分される。
  * 「純資産(Equity)」は、自己資金で、「資本金(Capital stock)」や「利益剰余金(Retained earnings)」等に区分される。

日本語だと「資産」と「純資産」は一見似た響きの言葉ですが、英語は「Asset」と「Equity」と違うように、まったく異種のコンセプトであることに注意が必要です。

「流動」か「固定」かの判別基準:

* 「正常営業循環基準」
  * 通常の販売・仕入取引で生じる債権・債務は、その回収期間を問わずに流動資産
  * 具体的には、棚卸資産、受取手形、売掛金などが流動資産となる。
* 「1年基準（ワン・イヤー・ルール）」（上記以外に適用）
  * 1年以内に現金ができるものは「流動資産」、そうでないものは「固定資産」
  * 具体的には、建物、土地、車両運搬具、ソフトウェア、投資有価証券などで１０万円以上のものが固定資産となる。

`帳票`->`実験中`(`Reports`->`Experimental`)から、日本でよく見る貸借対照表(Balance sheet)の左右出力ができます。

### 損益計算書(P/L)

よくP/Lと略される損益計算書は、GnuCash(日本語)では、`帳票`->`収益・費用`と進んだ先に、`損益計算書`と`損益計算書(P/L)`というメニューのいずれを選択しても表示されます。一見不思議ですが、GnuCash(英語)では、`Reports`->`Income & Expenses`と進んだ先に、`Income Statement`と`Profit & Loss`というメニューがあることに対応しています。[P/Lに関する英国・米国の両方の表記慣習](https://ja.wikipedia.org/wiki/%E6%90%8D%E7%9B%8A%E8%A8%88%E7%AE%97%E6%9B%B8)にあわせて両方のメニューがあるので、同一機能のメニューが２つになっています。

`帳票`->`実験中`(`Reports`->`Experimental`)から、日本でよく見る損益計算書(P/L)の左右表示出力ができます。

### 一般仕訳帳(General Journal)

* 「仕訳帳」:全ての取引を借方及び貸方に仕訳する帳簿（法人税法の定義）

一般仕訳帳(General Journal)は、仕分けを時系列で列挙した帳票で、GnuCash(日本語)では、`帳票`->`収益・費用`と進んだ先に、`一般仕訳帳`があり、GnuCash(英語)では、`Reports`->`Income & Expenses`と進んだ先に、`General Journal`があり、選択すると「記録簿(Register)」タブに一般仕訳帳(General Journal)が表示されます。

また前述のように、`ツール`(`Tools`)->`一般仕訳帳`(`General Journal`)で表示される一般仕訳帳がありますが、これはデーター入力用で、レポート出力には使いません。

### 取引出納帳 (Transaction Report)と総勘定元帳 (General Ledger)

* 「総勘定元帳」：全ての取引を勘定科目の種類別に分類して整理計算する帳簿（法人税法の定義）
* 「現金出納帳」：入出金を記録する帳簿（世間で見る言葉）
* 「取引出納帳」：勘定項目毎にまとめながら、日付順に資金移動取引を記録した帳簿（GnuCashで見る言葉）

GnuCashのメニュー上の以下の２エントリーは、 GnuCashの同一機能への初期デフォルト設定違いへアクセスします。

* 取引出納帳 (Transaction Report) : `帳票`->`取引出納帳`(`Reports`>`Transaction Report`)
* 総勘定元帳 (General Ledger): `帳票`->`収益・費用`->`総勘定元帳`(`Reports`>`Assets & Liabilities`>`General Ledger`)

レポート対象区間を設定し、日付順にソートして全アカウント出力すると、レポート対象区間が設定された一般仕訳帳(General Journal)が得られます。
詳しくは、[GnuCashでの仕訳帳 (General Journal) の期間指定2](https://money.senooken.jp/post/2020/07/17/4290/)を参照しましょう。

一方、総勘定元帳 (General Ledger)のメニューは、すべての取引を勘定科目ごとにソートした帳簿です。
会社の取引が勘定科目ごとにまとまって記載されるため、それぞれの残高を把握したいときなどに役立ちます。

聞くところでは、個人事業主が65万円等の青色申告特別控除の要件に、「複式簿記」での記帳が求められ、「総勘定元帳」と「仕訳帳」が必要なようです。

どうも、紙ベースの簿記の世界では、ある取引があると、「勘定科目」を使って「借方（左側）」と「貸方（右側）」に分け「仕訳帳」に記録するようです。
そして、クロスリファレンスのために「総勘定元帳」の転記先を「仕訳帳」の「元丁」の欄に記入したようです。

もちろん、GnuCashのようなソフトはこのようなデーター記入と同時に「総勘定元帳」が自動的に作成されていくので、別々の「総勘定元帳」と「仕訳帳」の入力必要なのではなく、期末にGnuCashに入れたデーターから綺麗に帳票（レポート）を作成しておけば、これらは簡単に対応できます。

ちなみに、データーの印刷出力の際には、ページのHTMLエクスポートを編集し綺麗にPDFに落とし組むことをされる方が多いようです。

帳票（レポート）類作成時に、ソート・フィルター・アカウント制約等などをしっかり「オプション」ダイアログで設定する必要があります。

「勘定科目」(Accounts)の設定時に、勘定科目コードを設定すると、希望順のソートに使えます。

### 各種チャートは表の表示もできる

月別の損益や項目別の支出がわかるような一見便利なチャートがあるのですが、デフォルトではマウスホーバーしないと数字が読めません。

これらのチャート表示時に、上の「オプション」というアイコンメニューを叩くと、色々細かな指定ができます。

この「オプション」のダイアログ中の、「表示」タブに「表を表示する」をチェックすると、月別の損益や項目別の支出等が数字で表示されるようになります。

## データーのエクスポートとインポート

GnuCashでは、銀行やクレジットカードのデーターの読み込みにデーターのインポートは家計簿でよく使っている機能です。

この機能が最初よくわかっていませんでしたが、かなり強力です。この機能をうまく使えば、この帳簿データーの切り分け・統合ができます。

帳簿データーを開き、「ファイル(File)」->「エクスポート(Export)」->「取引をCSVにエクスポート」とすると、ダイアログで任意の期間・勘定項目に、限定指定をしながらCSVに切り出してExportできます。勘定項目にすべてを選べば、特定期間の一般仕訳帳となります。

空の帳簿データーは、「ファイル」→「エクスポート」→「勘定科目をエクスポート(A)」すれば空の帳簿データーができます。

さらにこの空の帳簿データーに、特定範囲に切り出した「取引をインポート」ができます。


## データー保存ファイル形式と内部データー表現

GnuCashのデフォルトの保存ファイル形式はgzipされたXML形式(非圧縮のXML形式も設定から選択可能)のUTF-8テキストファイルです。

期間指定してのデーターファイルのGnuCashのデフォルトの保存ファイル形式への切り出し保存処理他も、[データーのエクスポートとインポート](#データーのエクスポートとインポート)を使うとCSVファイル経由で簡単にできます。

この GnuCash の XML 様式で組まれたデーター構造を見通しよく確認するのは、[jaxe](https://tracker.debian.org/pkg/jaxe) や [xmlcopyeditor](https://tracker.debian.org/pkg/xmlcopyeditor) が便利でした。基本、単純に勘定項目の定義と、一般仕訳帳の記帳履歴のデーターみが含まれているようです。だから、Pythonでスクリプト書くなどさえすれば、GnuCashのデーターはかなりフレキシブルな処理ができそうです。

面白いのは、内部での金額表示が分数形式になっていることです。日本円は関係ないですが、米ドルは「`2356/100`」等が見当たります。これだと非１０進法の旧英貨にも綺麗に対応できますね。

## その他の機能

まあ、色々機能があります。すべてを使う必要は無いようです。

### 予算(Budget)

まだ使っていないので、よくわかりません。`アクション`->`予算`->`...`(`Actions`->`Budget`->...)でスタートする。予算と実績を月次で追いかけられそう。

### 決算(Close Book)

結論は、少なくとも年度の途中のタイミング指定で`ツール`->`決算`(`Tools`->`Close Book`)は使わないのが良さそうです。

一見、`ツール`->`決算`(`Tools`->`Close Book`)という便利そうなメニューがあります。便利そうなので試してみたら、選択した日付で収益(Income)と費用(Expense)を集計し、純資産(Equity)に付け替えてくれます。具体的にはこれの実行の際に、「収益合計」と「費用合計」の行き先を聞かれます。何も入れずに、外貨残金だと適当な「US」なんて項目が純資産(Equity)にでき、そこに付け替えました。これだと、同じファイルを使い続けた際に、プログラムスタート時に表示される勘定項目の一覧表示での「収益合計」と「費用合計」の決算操作時期を超えた蓄積を防いでくれるだけです。このような`決算`操作をしてしまうと、この期間をまたいだ「収益合計」と「費用合計」の集計処理計算を、`帳票`(`Report`)メニューから正確にできなくなります。一方、`決算`で帳簿を閉じなければ、`編集`->`編集`->`会計期間`を指定して、`帳票`(`Report`)メニューから`勘定科目集計`を選ぶと、すべての勘定項目に関して指定期間の正確な集計値が計算されます。

決算ダイアログのHELPリンクからの正式マニュアルの結論(Conclusion)に、「決算した(=帳簿を閉じた)場合は、標準的なレポートが不正確となることを覚悟してください。」とまで言われているのも納得できます。

当面は、無難に毎年新しいファイルでスタートして行くのかな？空の新年度ファイルは、「ファイル」→「エクスポート」→「勘定科目をエクスポート(A)」で作り手動の移行処理で再スタートします。

### INVOICE発行

使ってません。

<!-- vim: set sw=2 ai tw=150: -->
