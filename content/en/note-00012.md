---
title: "Host setup tips"
date: 2021-04-01
categories:
  - sysad
  - english
tags:
  - linux
draft: true
slug: apt-proxy-2021
---

## APT proxy tools

<!-- REFERENCED SITE
Seems new doc: https://dquinton.github.io/debian-install/config/apt-proxy.html
2010 apt-cacher-ng had problem
https://wiki.debian.org/Simple-CDD/Howto?action=diff&rev1=51&rev2=50
-->

In order to find APT proxy set up, I checked situation and made my personal
memo here.  I may be wrong on many points.


### Proxy server

Web search gave me following impression.

* [apt-cacher](https://salsa.debian.org/LeePen/apt-cacher): This needs to be installed with the web server.  Older code in perl (but it was newer than apt-.  Getting replaced by apt-cacher-ng.
* [apt-cacher-ng](https://salsa.debian.org/blade/apt-cacher-ng/-/tree/debian/sid): Newer and well maintained code in C++.
  * This package is [the most popular package](https://qa.debian.org/popcon-graph.php?packages=apt-cacher+apt-cacher-ng+approx+squid-deb-proxy&show_installed=on&want_legend=on&want_ticks=on&from_date=&to_date=&hlght_date=&date_fmt=%25Y-%25m&beenhere=1).
  * This package had [some problem in 2010](https://wiki.debian.org/Simple-CDD/Howto?action=diff&rev1=51&rev2=50).
* [approx](https://salsa.debian.org/ocaml-team/approx): Less docs but its simplicity seems to make it more robust.
* [squid-deb-proxy](https://launchpad.net/squid-deb-proxy): This needs generic proxy server (No way to read cached package data)

Since I am not setting up a transparent proxy with NAT as I used to do to make
it simple, I will try apt-cacher-ng.


<!--
### Local repo

https://wiki.debian.org/DebianRepository/Setup

-->

### APT Proxy auto detector

* auto-apt-proxy -- no mDNS compatible --  https://salsa.debian.org/debian/auto-apt-proxy
* squid-deb-proxy-client -- mDNS compatible -- https://launchpad.net/squid-deb-proxy

WARN: Installing `auto-apt-proxy` package without properly configuring it will cause problem.

<!-- vim: set sw=2 sts=2 ai si et tw=79 ft=markdown: -->
