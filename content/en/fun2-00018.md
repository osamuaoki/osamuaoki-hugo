---
title: "Fun to Program -- SQLite"
date: 2013-08-18T00:00:48+09:00
categories:
  - coding
  - english
tags:
  - fun2prog
slug: fun2prog-sqlite
---

> This was originally written and created around 2013 and may require to be
> updated. (2021)

## SQLite

[SQLite](http://en.wikipedia.org/wiki/Sqlite) is a lightweight relational
database management system suitable for embedding into the application program
by linking the SQLite library. Structured Query Language
([SQL](http://en.wikipedia.org/wiki/SQL)) can be used to manage the content of
the database.

### SQL basics

You can interactively input SQL commands to the command line after starting
`sqlite3` as:

```
$ sqlite3 test.db
SQLite version 3.7.14 2012-09-03 15:42:36
Enter ".help" for instructions
Enter SQL statements terminated with a ";"
sqlite>
```

Read references:

* [SQLite (upstream)](http://www.sqlite.org/)
* [SQL Exercises (Wikibooks)](http://en.wikibooks.org/wiki/SQL_Exercises)
* [SQL Dialects Reference (Wikibooks)](http://en.wikibooks.org/wiki/SQL_Dialects_Reference)
* [SQLite Tutorial (Mike Chirico, 2007)](http://souptonuts.sourceforge.net/readme_sqlite_tutorial.html)
* [SQLite tutorial (Jan Bodnar, 2009)](http://zetcode.com/databases/sqlitetutorial/)
* [SQLite Python tutorial (Jan Bodnar, 2011)](http://zetcode.com/db/sqlitepythontutorial/)

Alternatively, the GUI tool `sqlitebrowser` may be used, too.

### Phonebook

Let's make a batch file of SQL commands to create a phonebook database.

SQL batch file `sql-1.sql`:

{{< snippet "examples/sqlite/sqlite/sql-1.sql" >}}


Here, "`NOT NULL`" is specified to avoid empty data.

Let's create a SQL database file `private.db` containing a phonebook data as
a `phone` table using `sqlite3`.  For readability, I added "`-echo`" to echo
SQL command to the console.


{{< snippet "examples/sqlite/sqlite/sql-1.log" >}}


Let's add, update, delete data in this `phone` table be creating a batch file
`sql-2.sql` and executing `sqlite3` with it.


{{< snippet "examples/sqlite/sqlite/sql-2.log" >}}


SQL wildcard chracters used for `LIKE` matching

|Wildcard|Description |
| --- | --- |
|`%`|A substitute for zero or more characters |
|`_`|A substitute for exactly one character |

### SQL + Python

You can manupilate SQL database via Python using the pysqlite binding.  For example:

Python code example to add "Abraham Lincoln" to the phonebook.

{{< snippet "examples/sqlite/sqlite/sql-3.py" >}}


Let's execute it.


{{< snippet "examples/sqlite/sqlite/sql-3.log" >}}


### NULL data

SQL command behavior for NULL data is complicated.  See how SQLite behaves:


{{< snippet "examples/sqlite/sqlite/sql-4.log" >}}


TIP: The autogenerated "`rowid`" is a 64-bit signed integer key that uniquely
identifies the row within its table.


<!-- vim: set sw=2 sts=2 ai si et tw=79 ft=markdown: -->
