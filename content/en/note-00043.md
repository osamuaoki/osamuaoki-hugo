---
title: Files (nautilus)
date: 2023-05-20T00:00:00+00:00
categories:
  - desktop
  - english
tags:
  - nautilus
slug: nautilus-1
---

This is based on `nautilus` version 43.2 in 2023 (Debian/Bookworm).

## Gnome Files

"Gnome Files" (a.k.a `nautilus`) is the default file manager for GNOME desktop
environment.  It is rather a simple file manager with primitive
functionalities, but it can be extended to offer rich features.

I consider following packages as essential and installed these:

* `nautilus-extension-gnome-terminal`
  * recommended by `gnome-terminal`
  * written in C++, uses `libnautilus-extension4`
* `nautilus-image-converter`
  * written in C with GTK4, uses `libnautiqlus-extension4`
* `python3-nautilus` (needed to support extensions)

## `gnome-terminal` from `nautilus`

There are 2 ways to start `gnome-terminal` from `nautilus` using
`nautilus-extension-gnome-terminal`.

* Left click "`â‹®`"-icon at the right of directory box in the top bar.
* Right click folder icon for directory in the right pane.

This starts a terminal CLI session with its current directory intuitively
selected by GUI.

## Extension via `python3-nautilus`

This is a full-featured and newer interface to `nautilus` using Python.

You can process selected files etc., by placing an extension which subclasses
`Nautilus.MenuProvide` to `python3-nautilus` in
`~/.local/share/nautilus-python/extensions`.

* [Nautilus Python](https://wiki.gnome.org/Projects/NautilusPython) -- upstream
  site
* [Migrating to Nautilus API 4.0 (Nautilus 43)](https://gnome.pages.gitlab.gnome.org/nautilus-python/nautilus-python-migrating-to-4.html)
* [Nautilus extensions - how do you write them now G43? (2022)](https://discourse.gnome.org/t/nautilus-extensions-how-do-you-write-them-now-g43/11283) -- links to examples
* [How to write Nautilus extensions with nautilus-python (2022-10-03)](https://linuxconfig.org/how-to-write-nautilus-extensions-with-nautilus-python)


Here are some examples using this approaches:

* `nautilus-hide` ([stalled upstream](https://github.com/brunonova/nautilus-hide), patched by Debian)
* `nautilus-admin` ([stalled upstream](https://github.com/brunonova/nautilus-admin), patched by Debian)
* [nautilus-copypath](https://github.com/ronen25/nautilus-copypath) -- A small Nautilus extension for quickly copying file/Samba paths (for `nautilus` 3.0 now)
* [Nautilus-fileconverter-43](https://github.com/Lich-Corals/Nautilus-fileconverter-43) -- convert images, audio files and video

## Extension with script

This is a simpler and older interface to `nautilus`.

You can run a script on selected files etc., by placing a script in
`~/.local/share/nautilus/scripts`.  `nautilus` passes its selection
to script using the value of certain environment variables.

* [How to extend the GNOME Nautilus file manager with custom scripts (2022-06-03)](https://linuxconfig.org/how-to-extend-the-gnome-nautilus-file-manager-with-custom-scripts)
  * There is an example `organize.py` which organizes image files by the date
    information in EXIF.
* [Ubuntu: NautilusScriptsHowto (2015-04-25)](https://help.ubuntu.com/community/NautilusScriptsHowto)

Notable variables:

* `NAUTILUS_SCRIPT_SELECTED_FILE_PATHS`
* `NAUTILUS_SCRIPT_SELECTED_URI`
* `NAUTILUS_SCRIPT_CURRENT_URI`
* `NAUTILUS_SCRIPT_WINDOW_GEOMETRY`

## Extension via `libnautilus-extension4`

This is a full-featured extension to `nautilus` for C/C++ programs using
`libnautilus-extension4`.

* `seahorse-nautilus` (in Debian)
* [nautilus-annotations](https://gitlab.gnome.org/madmurphy/nautilus-annotations) -- Annotate files and directories
* [nautilus-launch](https://github.com/madmurphy/nautilus-launch) -- launchers via right-click menu

## Reference sites

* [Nautilus Scripts (2023-05-14)](https://www.gnome-look.org/browse?cat=126)
* [github topics: nautilus-extension (2023-04-14)](https://github.com/topics/nautilus-extension?o=desc&s=updated)
* [13 Ways to Tweak Nautilus File Manager in Linux to Get More Out of it (2023-04-07)](https://itsfoss.com/nautilus-tips-tweaks/)
* [5 Nautilus Extensions to Enhance Your GNOME File Manager (2022-09-30)](https://www.makeuseof.com/nautilus-extensions-to-enhance-your-gnome-file-manager/)

## Thoughts

Batch convert from `*.doc`, `*.wri`, `*.rtf` to PDF may be created using
following as the baseline:
```
 $ lowriter --headless --convert-to pdf *.odt
```

`organize.py` may be adopted to use `python3-nautilus` with some GUI to select
output directory style, or even adjust timestamps.

<!-- vim: set sw=4 sts=4 ai si et tw=79 ft=markdown: -->
