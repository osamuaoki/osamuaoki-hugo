---
title: Changing environment of GUI program
date: 2023-04-28T00:00:00+00:00
categories:
  - desktop
  - english
tags:
  - heif
slug: env-1
---

## Changing environment of GUI program

Let's make a GUI program `gnucash` started globally under Japanese environment
`ja_JP.UTF-8` while keeping your system under `en_US.UTF-8`.


Simple use of `sudo mv /usr/bin/gnucash /usr/bin/gnucash.orig` isn't robust
against package update.  Here, `dpkg-divert` must be used, instead.

Let's first make a command to start `gnucash` under Japanese environment as
`/usr/bin/gnucash.ja`:
```sh
#!/bin/sh -e
LANG="ja_JP.UTF-8" LANGUAGE="ja_JP;ja" /usr/bin/gnucash.orig
```

```sh
 $ cd /usr/bin
 $ sudo chown 755 gnucash.ja
 $ sudo dpkg-divert --local --rename --divert /usr/bin/gnucash.orig --add /usr/bin/gnucash
 $ sudo ln -sf gnucash.ja gnucash
```

With this set up, one can switch among different environment by changing
symlink.


You can restore the original state as:

```sh
 $ rm gnucash
 $ sudo dpkg-divert --local --rename --remove /usr/bin/gnucash
```


<!-- vim: set sw=4 sts=4 ai si et tw=79 ft=markdown: -->
