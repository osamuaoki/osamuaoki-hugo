---
title: How to make ISP with TTL-232R-5V
date: 2021-11-12
categories:
  - iot
  - english
tags:
  - avrdude
slug: avrisp-alt
---

This is my manual for TTL-232R-5V based ISP which I made several years ago.
I moved this content from other place to make it easy to find.  I still use
this as my back up IPS.

I now use my [Modified AVRISP MKII (in Japanese)](/jp/2020/02/27/avrisp-mod-j/)
as my main programmer.


## Circuit

It's a bit un-intuitive, but USB to TTL level RS-232 adapter (Serial adapter)
can be used in a special bit-bang mode.  AVRDUDE supports this:

I am talking specifically the original TTL-232R-5V found in these pages:

* http://www.ftdichip.com/Products/Cables/USBTTLSerial.htm
* http://www.ftdichip.com/Support/Documents/DataSheets/Cables/DS_TTL-232R_CABLES.pdf

Connections are:
```
TTL-232R-5V       ICPS connector
 GND 1 Black  --> GND   (6 pin)
 CTS 2 Brown  --> MOSI  (4 pin)
 VCC 3 Red    --> VCC   (2 pin)
 TXD 4 Orange --> RESET (5 pin)
 RXD 5 Yellow --> SCK   (3 pin)
 RTS 6 Green  --> MISO  (1 pin)
```
Here, ICPS connector is the one used by Arduino Uno.  The standard AVRISP MKII
cable support it.

Except for VCC and GND, you can connect any pairs as long as the
following setting in the default `/etc/avrdude.conf` is adjusted via
`~/.avrduderc`.  (Yes, AVRDUDE supports this now without patch.)

```
programmer
  id    = "ttl232r";
  desc  = "FTDI TTL232R-5V with ICSP adapter";
  type  = "ftdi_syncbb";
  connection_type = usb;
  miso  = 2; # rts
  sck   = 1; # rxd
  mosi  = 3; # cts
  reset = 0; # txd
```

You can use double raw pin header as a converter.

![TTL232R-SPI ADAPTER WIRING](/img/TTL232R-SPI.png)
![TTL232R-SPI ADAPTER PHOTO](/img/TTL232R-SPI-ADAPTER.jpeg)


## Wiring to board/chip

| FT232RL | Bit-bang | TTL-232R | ADAPTER |
|--------|-----|---------|---------|
| TXD  1 | D0 | 4 ORANGE | 5 RESET |
| RXD  5 | D1 | 5 YELLOW | 3 SCK |
| RTS# 3 | D2 | 6 GREEN | 1 MISO |
| CTS# 11 | D3 | 2 BROWN | 4 MOSI |
| VCC | -- | 3 RED | 2 VCC |
| GND | -- | 1 BLACK | 6 GND |
i
<!-- vim: se ai tw=79: -->
